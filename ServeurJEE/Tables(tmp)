nom BDD : projetsurv

mysql -u root -p

CREATE USER 'AdminSurv'@'localhost' IDENTIFIED BY 'mdpAdmin';
CREATE DATABASE projetsurv;
GRANT ALL PRIVILEGES ON projetsurv.* TO 'AdminSurv'@'localhost';
exit
mysql -u AdminSurv -p

USE projetsurv;

DROP TABLE list_of_rule;
DROP TABLE Rule;
DROP TABLE niveau_rule;
DROP TABLE Examen;
DROP TABLE Utilisateur;

CREATE TABLE Utilisateur
( id_user INTEGER NOT NULL AUTO_INCREMENT,
prenom VARCHAR(50),
nom_user VARCHAR(50),
password VARCHAR(255),
mail VARCHAR(100),
groupe VARCHAR(50),
numero_etudiant VARCHAR(8),
PRIMARY KEY (id_user, numero_etudiant));

CREATE TABLE Examen
( id_examen INTEGER NOT NULL AUTO_INCREMENT,
id_user INTEGER,
matiere VARCHAR(100),
duree TIME,
heure_debut DATE,
PRIMARY KEY (id_examen),
FOREIGN KEY (id_user) REFERENCES Utilisateur(id_user));

CREATE TABLE niveau_rule
( id_niveau_rule INTEGER NOT NULL AUTO_INCREMENT,
nom VARCHAR(100),
PRIMARY KEY (id_niveau_rule));

CREATE TABLE Rule
( id_rule INTEGER NOT NULL AUTO_INCREMENT,
description VARCHAR(100),
id_niveau INTEGER,
PRIMARY KEY (id_rule),
FOREIGN KEY (id_niveau) REFERENCES niveau_rule(id_niveau_rule));

CREATE TABLE list_of_rule
( id_rule INTEGER,
id_examen INTEGER,
FOREIGN KEY (id_rule) REFERENCES Rule(id_rule),
FOREIGN KEY (id_examen) REFERENCES Examen(id_examen));


